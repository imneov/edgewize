kind: ConfigMap
apiVersion: v1
metadata:
  name: frpc
  namespace: {{ .Release.Namespace | quote }}
  annotations:
    kubesphere.io/creator: admin
data:
  frpc-edge.ini: |-
    [common]
    server_addr = {{ .Values.frpClientConfig.serverAddress }}
    server_port = {{ .Values.frpClientConfig.serverPort }}
    log_level=info
    token = {{ .Values.frpClientConfig.authToken | default "qingcloud" }}
    [{{ .Values.frpClientConfig.proxyName }}]
    type = stcp
    sk = {{ .Values.frpClientConfig.secretKey | default "abc001" }}
    role = visitor
    server_name = {{ .Values.frpClientConfig.proxyName }}
    bind_addr = 0.0.0.0
    bind_port = 6000